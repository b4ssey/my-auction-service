(()=>{var ge={358:N=>{var P=Object.prototype.toString,S=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function E(C){return P.call(C).slice(8,-1)==="ArrayBuffer"}function a(C,p,n){p>>>=0;var f=C.byteLength-p;if(f<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=f;else if(n>>>=0,n>f)throw new RangeError("'length' is out of bounds");return S?Buffer.from(C.slice(p,p+n)):new Buffer(new Uint8Array(C.slice(p,p+n)))}function y(C,p){if((typeof p!="string"||p==="")&&(p="utf8"),!Buffer.isEncoding(p))throw new TypeError('"encoding" must be a valid string encoding');return S?Buffer.from(C,p):new Buffer(C,p)}function R(C,p,n){if(typeof C=="number")throw new TypeError('"value" argument must not be a number');return E(C)?a(C,p,n):typeof C=="string"?y(C,p):S?Buffer.from(C):new Buffer(C)}N.exports=R},979:(N,P,S)=>{/*!
 * depd
 * Copyright(c) 2014-2018 Douglas Christopher Wilson
 * MIT Licensed
 */var E=S(17).relative;N.exports=n;var a=process.cwd();function y(t,M){for(var I=t.split(/[ ,]+/),x=String(M).toLowerCase(),L=0;L<I.length;L++){var H=I[L];if(H&&(H==="*"||H.toLowerCase()===x))return!0}return!1}function R(t,M,I){var x=Object.getOwnPropertyDescriptor(t,M),L=x.value;return x.get=function(){return L},x.writable&&(x.set=function(F){return L=F}),delete x.value,delete x.writable,Object.defineProperty(t,M,x),x}function C(t){for(var M="",I=0;I<t;I++)M+=", arg"+I;return M.substr(2)}function p(t){var M=this.name+": "+this.namespace;this.message&&(M+=" deprecated "+this.message);for(var I=0;I<t.length;I++)M+=`
    at `+t[I].toString();return M}function n(t){if(!t)throw new TypeError("argument namespace is required");var M=u(),I=i(M[1]),x=I[0];function L(H){l.call(L,H)}return L._file=x,L._ignored=h(t),L._namespace=t,L._traced=o(t),L._warned=Object.create(null),L.function=r,L.property=e,L}function f(t,M){var I=typeof t.listenerCount!="function"?t.listeners(M).length:t.listenerCount(M);return I>0}function h(t){if(process.noDeprecation)return!0;var M=process.env.NO_DEPRECATION||"";return y(M,t)}function o(t){if(process.traceDeprecation)return!0;var M=process.env.TRACE_DEPRECATION||"";return y(M,t)}function l(t,M){var I=f(process,"deprecation");if(!(!I&&this._ignored)){var x,L,H,F,Q=0,re=!1,Y=u(),oe=this._file;for(M?(F=M,H=i(Y[1]),H.name=F.name,oe=H[0]):(Q=2,F=i(Y[Q]),H=F);Q<Y.length;Q++)if(x=i(Y[Q]),L=x[0],L===oe)re=!0;else if(L===this._file)oe=this._file;else if(re)break;var ie=x?F.join(":")+"__"+x.join(":"):void 0;if(!(ie!==void 0&&ie in this._warned)){this._warned[ie]=!0;var te=t;if(te||(te=H===F||!H.name?v(F):v(H)),I){var ue=m(this._namespace,te,Y.slice(Q));process.emit("deprecation",ue);return}var g=process.stderr.isTTY?s:c,w=g.call(this,te,x,Y.slice(Q));process.stderr.write(w+`
`,"utf8")}}}function i(t){var M=t.getFileName()||"<anonymous>",I=t.getLineNumber(),x=t.getColumnNumber();t.isEval()&&(M=t.getEvalOrigin()+", "+M);var L=[M,I,x];return L.callSite=t,L.name=t.getFunctionName(),L}function v(t){var M=t.callSite,I=t.name;I||(I="<anonymous@"+_(t)+">");var x=M.getThis(),L=x&&M.getTypeName();return L==="Object"&&(L=void 0),L==="Function"&&(L=x.name||L),L&&M.getMethodName()?L+"."+I:I}function c(t,M,I){var x=new Date().toUTCString(),L=x+" "+this._namespace+" deprecated "+t;if(this._traced){for(var H=0;H<I.length;H++)L+=`
    at `+I[H].toString();return L}return M&&(L+=" at "+_(M)),L}function s(t,M,I){var x="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+t+"\x1B[39m";if(this._traced){for(var L=0;L<I.length;L++)x+=`
    \x1B[36mat `+I[L].toString()+"\x1B[39m";return x}return M&&(x+=" \x1B[36m"+_(M)+"\x1B[39m"),x}function _(t){return E(a,t[0])+":"+t[1]+":"+t[2]}function u(){var t=Error.stackTraceLimit,M={},I=Error.prepareStackTrace;Error.prepareStackTrace=A,Error.stackTraceLimit=Math.max(10,t),Error.captureStackTrace(M);var x=M.stack.slice(1);return Error.prepareStackTrace=I,Error.stackTraceLimit=t,x}function A(t,M){return M}function r(t,M){if(typeof t!="function")throw new TypeError("argument fn must be a function");var I=C(t.length),x=u(),L=i(x[1]);L.name=t.name;var H=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+I+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(t,l,this,M,L);return H}function e(t,M,I){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("argument obj must be object");var x=Object.getOwnPropertyDescriptor(t,M);if(!x)throw new TypeError("must call property on owner object");if(!x.configurable)throw new TypeError("property must be configurable");var L=this,H=u(),F=i(H[1]);F.name=M,"value"in x&&(x=R(t,M,I));var Q=x.get,re=x.set;typeof Q=="function"&&(x.get=function(){return l.call(L,I,F),Q.apply(this,arguments)}),typeof re=="function"&&(x.set=function(){return l.call(L,I,F),re.apply(this,arguments)}),Object.defineProperty(t,M,x)}function m(t,M,I){var x=new Error,L;return Object.defineProperty(x,"constructor",{value:m}),Object.defineProperty(x,"message",{configurable:!0,enumerable:!1,value:M,writable:!0}),Object.defineProperty(x,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(x,"namespace",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(x,"stack",{configurable:!0,enumerable:!1,get:function(){return L!==void 0?L:L=p.call(this,I)},set:function(F){L=F}}),x}},390:(N,P,S)=>{"use strict";/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var E=S(979)("http-errors"),a=S(707),y=S(842),R=S(190),C=S(675);N.exports=n,N.exports.HttpError=f(),N.exports.isHttpError=o(N.exports.HttpError),v(N.exports,y.codes,N.exports.HttpError);function p(s){return Number(String(s).charAt(0)+"00")}function n(){for(var s,_,u=500,A={},r=0;r<arguments.length;r++){var e=arguments[r],m=typeof e;if(m==="object"&&e instanceof Error)s=e,u=s.status||s.statusCode||u;else if(m==="number"&&r===0)u=e;else if(m==="string")_=e;else if(m==="object")A=e;else throw new TypeError("argument #"+(r+1)+" unsupported type "+m)}typeof u=="number"&&(u<400||u>=600)&&E("non-error status code; use only 4xx or 5xx status codes"),(typeof u!="number"||!y.message[u]&&(u<400||u>=600))&&(u=500);var t=n[u]||n[p(u)];s||(s=t?new t(_):new Error(_||y.message[u]),Error.captureStackTrace(s,n)),(!t||!(s instanceof t)||s.status!==u)&&(s.expose=u<500,s.status=s.statusCode=u);for(var M in A)M!=="status"&&M!=="statusCode"&&(s[M]=A[M]);return s}function f(){function s(){throw new TypeError("cannot construct abstract class")}return R(s,Error),s}function h(s,_,u){var A=c(_);function r(e){var m=e!=null?e:y.message[u],t=new Error(m);return Error.captureStackTrace(t,r),a(t,r.prototype),Object.defineProperty(t,"message",{enumerable:!0,configurable:!0,value:m,writable:!0}),Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,value:A,writable:!0}),t}return R(r,s),i(r,A),r.prototype.status=u,r.prototype.statusCode=u,r.prototype.expose=!0,r}function o(s){return function(u){return!u||typeof u!="object"?!1:u instanceof s?!0:u instanceof Error&&typeof u.expose=="boolean"&&typeof u.statusCode=="number"&&u.status===u.statusCode}}function l(s,_,u){var A=c(_);function r(e){var m=e!=null?e:y.message[u],t=new Error(m);return Error.captureStackTrace(t,r),a(t,r.prototype),Object.defineProperty(t,"message",{enumerable:!0,configurable:!0,value:m,writable:!0}),Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,value:A,writable:!0}),t}return R(r,s),i(r,A),r.prototype.status=u,r.prototype.statusCode=u,r.prototype.expose=!1,r}function i(s,_){var u=Object.getOwnPropertyDescriptor(s,"name");u&&u.configurable&&(u.value=_,Object.defineProperty(s,"name",u))}function v(s,_,u){_.forEach(function(r){var e,m=C(y.message[r]);switch(p(r)){case 400:e=h(u,m,r);break;case 500:e=l(u,m,r);break}e&&(s[r]=e,s[m]=e)})}function c(s){return s.substr(-5)!=="Error"?s+"Error":s}},190:(N,P,S)=>{try{var E=S(837);if(typeof E.inherits!="function")throw"";N.exports=E.inherits}catch{N.exports=S(480)}},480:N=>{typeof Object.create=="function"?N.exports=function(S,E){E&&(S.super_=E,S.prototype=Object.create(E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:N.exports=function(S,E){if(E){S.super_=E;var a=function(){};a.prototype=E.prototype,S.prototype=new a,S.prototype.constructor=S}}},707:N=>{"use strict";N.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?P:S);function P(E,a){return E.__proto__=a,E}function S(E,a){for(var y in a)Object.prototype.hasOwnProperty.call(E,y)||(E[y]=a[y]);return E}},49:(N,P,S)=>{S(685).install()},685:(N,P,S)=>{N=S.nmd(N);var E=S(461).SourceMapConsumer,a=S(17),y;try{y=S(147),(!y.existsSync||!y.readFileSync)&&(y=null)}catch{}var R=S(358);function C(g,w){return g.require(w)}var p=!1,n=!1,f=!1,h="auto",o={},l={},i=/^data:application\/json[^,]+base64,/,v=[],c=[];function s(){return h==="browser"?!0:h==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function _(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}function u(){return typeof process=="object"&&process!==null?process.version:""}function A(){if(typeof process=="object"&&process!==null)return process.stderr}function r(g){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(g)}function e(g){return function(w){for(var j=0;j<g.length;j++){var G=g[j](w);if(G)return G}return null}}var m=e(v);v.push(function(g){if(g=g.trim(),/^file:/.test(g)&&(g=g.replace(/file:\/\/\/(\w:)?/,function(G,k){return k?"":"/"})),g in o)return o[g];var w="";try{if(y)y.existsSync(g)&&(w=y.readFileSync(g,"utf8"));else{var j=new XMLHttpRequest;j.open("GET",g,!1),j.send(null),j.readyState===4&&j.status===200&&(w=j.responseText)}}catch{}return o[g]=w});function t(g,w){if(!g)return w;var j=a.dirname(g),G=/^\w+:\/\/[^\/]*/.exec(j),k=G?G[0]:"",D=j.slice(k.length);return k&&/^\/\w\:/.test(D)?(k+="/",k+a.resolve(j.slice(k.length),w).replace(/\\/g,"/")):k+a.resolve(j.slice(k.length),w)}function M(g){var w;if(s())try{var j=new XMLHttpRequest;j.open("GET",g,!1),j.send(null),w=j.readyState===4?j.responseText:null;var G=j.getResponseHeader("SourceMap")||j.getResponseHeader("X-SourceMap");if(G)return G}catch{}w=m(g);for(var k=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,D,$;$=k.exec(w);)D=$;return D?D[1]:null}var I=e(c);c.push(function(g){var w=M(g);if(!w)return null;var j;if(i.test(w)){var G=w.slice(w.indexOf(",")+1);j=R(G,"base64").toString(),w=g}else w=t(g,w),j=m(w);return j?{url:w,map:j}:null});function x(g){var w=l[g.source];if(!w){var j=I(g.source);j?(w=l[g.source]={url:j.url,map:new E(j.map)},w.map.sourcesContent&&w.map.sources.forEach(function(k,D){var $=w.map.sourcesContent[D];if($){var K=t(w.url,k);o[K]=$}})):w=l[g.source]={url:null,map:null}}if(w&&w.map&&typeof w.map.originalPositionFor=="function"){var G=w.map.originalPositionFor(g);if(G.source!==null)return G.source=t(w.url,G.source),G}return g}function L(g){var w=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(g);if(w){var j=x({source:w[2],line:+w[3],column:w[4]-1});return"eval at "+w[1]+" ("+j.source+":"+j.line+":"+(j.column+1)+")"}return w=/^eval at ([^(]+) \((.+)\)$/.exec(g),w?"eval at "+w[1]+" ("+L(w[2])+")":g}function H(){var g,w="";if(this.isNative())w="native";else{g=this.getScriptNameOrSourceURL(),!g&&this.isEval()&&(w=this.getEvalOrigin(),w+=", "),g?w+=g:w+="<anonymous>";var j=this.getLineNumber();if(j!=null){w+=":"+j;var G=this.getColumnNumber();G&&(w+=":"+G)}}var k="",D=this.getFunctionName(),$=!0,K=this.isConstructor(),se=!(this.isToplevel()||K);if(se){var q=this.getTypeName();q==="[object Object]"&&(q="null");var ne=this.getMethodName();D?(q&&D.indexOf(q)!=0&&(k+=q+"."),k+=D,ne&&D.indexOf("."+ne)!=D.length-ne.length-1&&(k+=" [as "+ne+"]")):k+=q+"."+(ne||"<anonymous>")}else K?k+="new "+(D||"<anonymous>"):D?k+=D:(k+=w,$=!1);return $&&(k+=" ("+w+")"),k}function F(g){var w={};return Object.getOwnPropertyNames(Object.getPrototypeOf(g)).forEach(function(j){w[j]=/^(?:is|get)/.test(j)?function(){return g[j].call(g)}:g[j]}),w.toString=H,w}function Q(g,w){if(w===void 0&&(w={nextPosition:null,curPosition:null}),g.isNative())return w.curPosition=null,g;var j=g.getFileName()||g.getScriptNameOrSourceURL();if(j){var G=g.getLineNumber(),k=g.getColumnNumber()-1,D=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,$=D.test(u())?0:62;G===1&&k>$&&!s()&&!g.isEval()&&(k-=$);var K=x({source:j,line:G,column:k});w.curPosition=K,g=F(g);var se=g.getFunctionName;return g.getFunctionName=function(){return w.nextPosition==null?se():w.nextPosition.name||se()},g.getFileName=function(){return K.source},g.getLineNumber=function(){return K.line},g.getColumnNumber=function(){return K.column+1},g.getScriptNameOrSourceURL=function(){return K.source},g}var q=g.isEval()&&g.getEvalOrigin();return q&&(q=L(q),g=F(g),g.getEvalOrigin=function(){return q}),g}function re(g,w){f&&(o={},l={});for(var j=g.name||"Error",G=g.message||"",k=j+": "+G,D={nextPosition:null,curPosition:null},$=[],K=w.length-1;K>=0;K--)$.push(`
    at `+Q(w[K],D)),D.nextPosition=D.curPosition;return D.curPosition=D.nextPosition=null,k+$.reverse().join("")}function Y(g){var w=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(g.stack);if(w){var j=w[1],G=+w[2],k=+w[3],D=o[j];if(!D&&y&&y.existsSync(j))try{D=y.readFileSync(j,"utf8")}catch{D=""}if(D){var $=D.split(/(?:\r\n|\r|\n)/)[G-1];if($)return j+":"+G+`
`+$+`
`+new Array(k).join(" ")+"^"}}return null}function oe(g){var w=Y(g),j=A();j&&j._handle&&j._handle.setBlocking&&j._handle.setBlocking(!0),w&&(console.error(),console.error(w)),console.error(g.stack),r(1)}function ie(){var g=process.emit;process.emit=function(w){if(w==="uncaughtException"){var j=arguments[1]&&arguments[1].stack,G=this.listeners(w).length>0;if(j&&!G)return oe(arguments[1])}return g.apply(this,arguments)}}var te=v.slice(0),ue=c.slice(0);P.wrapCallSite=Q,P.getErrorSource=Y,P.mapSourcePosition=x,P.retrieveSourceMap=I,P.install=function(g){if(g=g||{},g.environment&&(h=g.environment,["node","browser","auto"].indexOf(h)===-1))throw new Error("environment "+h+" was unknown. Available options are {auto, browser, node}");if(g.retrieveFile&&(g.overrideRetrieveFile&&(v.length=0),v.unshift(g.retrieveFile)),g.retrieveSourceMap&&(g.overrideRetrieveSourceMap&&(c.length=0),c.unshift(g.retrieveSourceMap)),g.hookRequire&&!s()){var w=C(N,"module"),j=w.prototype._compile;j.__sourceMapSupport||(w.prototype._compile=function(D,$){return o[$]=D,l[$]=void 0,j.call(this,D,$)},w.prototype._compile.__sourceMapSupport=!0)}if(f||(f="emptyCacheBetweenOperations"in g?g.emptyCacheBetweenOperations:!1),p||(p=!0,Error.prepareStackTrace=re),!n){var G="handleUncaughtExceptions"in g?g.handleUncaughtExceptions:!0;try{var k=C(N,"worker_threads");k.isMainThread===!1&&(G=!1)}catch{}G&&_()&&(n=!0,ie())}},P.resetRetrieveHandlers=function(){v.length=0,c.length=0,v=te.slice(0),c=ue.slice(0),I=e(c),m=e(v)}},668:(N,P,S)=>{var E=S(930),a=Object.prototype.hasOwnProperty,y=typeof Map<"u";function R(){this._array=[],this._set=y?new Map:Object.create(null)}R.fromArray=function(p,n){for(var f=new R,h=0,o=p.length;h<o;h++)f.add(p[h],n);return f},R.prototype.size=function(){return y?this._set.size:Object.getOwnPropertyNames(this._set).length},R.prototype.add=function(p,n){var f=y?p:E.toSetString(p),h=y?this.has(p):a.call(this._set,f),o=this._array.length;(!h||n)&&this._array.push(p),h||(y?this._set.set(p,o):this._set[f]=o)},R.prototype.has=function(p){if(y)return this._set.has(p);var n=E.toSetString(p);return a.call(this._set,n)},R.prototype.indexOf=function(p){if(y){var n=this._set.get(p);if(n>=0)return n}else{var f=E.toSetString(p);if(a.call(this._set,f))return this._set[f]}throw new Error('"'+p+'" is not in the set.')},R.prototype.at=function(p){if(p>=0&&p<this._array.length)return this._array[p];throw new Error("No element indexed by "+p)},R.prototype.toArray=function(){return this._array.slice()},P.I=R},158:(N,P,S)=>{var E=S(977),a=5,y=1<<a,R=y-1,C=y;function p(f){return f<0?(-f<<1)+1:(f<<1)+0}function n(f){var h=(f&1)===1,o=f>>1;return h?-o:o}P.encode=function(h){var o="",l,i=p(h);do l=i&R,i>>>=a,i>0&&(l|=C),o+=E.encode(l);while(i>0);return o},P.decode=function(h,o,l){var i=h.length,v=0,c=0,s,_;do{if(o>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(_=E.decode(h.charCodeAt(o++)),_===-1)throw new Error("Invalid base64 digit: "+h.charAt(o-1));s=!!(_&C),_&=R,v=v+(_<<c),c+=a}while(s);l.value=n(v),l.rest=o}},977:(N,P)=>{var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");P.encode=function(E){if(0<=E&&E<S.length)return S[E];throw new TypeError("Must be between 0 and 63: "+E)},P.decode=function(E){var a=65,y=90,R=97,C=122,p=48,n=57,f=43,h=47,o=26,l=52;return a<=E&&E<=y?E-a:R<=E&&E<=C?E-R+o:p<=E&&E<=n?E-p+l:E==f?62:E==h?63:-1}},63:(N,P)=>{P.GREATEST_LOWER_BOUND=1,P.LEAST_UPPER_BOUND=2;function S(E,a,y,R,C,p){var n=Math.floor((a-E)/2)+E,f=C(y,R[n],!0);return f===0?n:f>0?a-n>1?S(n,a,y,R,C,p):p==P.LEAST_UPPER_BOUND?a<R.length?a:-1:n:n-E>1?S(E,n,y,R,C,p):p==P.LEAST_UPPER_BOUND?n:E<0?-1:E}P.search=function(a,y,R,C){if(y.length===0)return-1;var p=S(-1,y.length,a,y,R,C||P.GREATEST_LOWER_BOUND);if(p<0)return-1;for(;p-1>=0&&R(y[p],y[p-1],!0)===0;)--p;return p}},923:(N,P,S)=>{var E=S(930);function a(R,C){var p=R.generatedLine,n=C.generatedLine,f=R.generatedColumn,h=C.generatedColumn;return n>p||n==p&&h>=f||E.compareByGeneratedPositionsInflated(R,C)<=0}function y(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}y.prototype.unsortedForEach=function(C,p){this._array.forEach(C,p)},y.prototype.add=function(C){a(this._last,C)?(this._last=C,this._array.push(C)):(this._sorted=!1,this._array.push(C))},y.prototype.toArray=function(){return this._sorted||(this._array.sort(E.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},P.H=y},645:(N,P)=>{function S(y,R,C){var p=y[R];y[R]=y[C],y[C]=p}function E(y,R){return Math.round(y+Math.random()*(R-y))}function a(y,R,C,p){if(C<p){var n=E(C,p),f=C-1;S(y,n,p);for(var h=y[p],o=C;o<p;o++)R(y[o],h)<=0&&(f+=1,S(y,f,o));S(y,f+1,o);var l=f+1;a(y,R,C,l-1),a(y,R,l+1,p)}}P.U=function(y,R){a(y,R,0,y.length-1)}},94:(N,P,S)=>{var E,a=S(930),y=S(63),R=S(668).I,C=S(158),p=S(645).U;function n(l,i){var v=l;return typeof l=="string"&&(v=a.parseSourceMapInput(l)),v.sections!=null?new o(v,i):new f(v,i)}n.fromSourceMap=function(l,i){return f.fromSourceMap(l,i)},n.prototype._version=3,n.prototype.__generatedMappings=null,Object.defineProperty(n.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),n.prototype.__originalMappings=null,Object.defineProperty(n.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),n.prototype._charIsMappingSeparator=function(i,v){var c=i.charAt(v);return c===";"||c===","},n.prototype._parseMappings=function(i,v){throw new Error("Subclasses must implement _parseMappings")},n.GENERATED_ORDER=1,n.ORIGINAL_ORDER=2,n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.prototype.eachMapping=function(i,v,c){var s=v||null,_=c||n.GENERATED_ORDER,u;switch(_){case n.GENERATED_ORDER:u=this._generatedMappings;break;case n.ORIGINAL_ORDER:u=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var A=this.sourceRoot;u.map(function(r){var e=r.source===null?null:this._sources.at(r.source);return e=a.computeSourceURL(A,e,this._sourceMapURL),{source:e,generatedLine:r.generatedLine,generatedColumn:r.generatedColumn,originalLine:r.originalLine,originalColumn:r.originalColumn,name:r.name===null?null:this._names.at(r.name)}},this).forEach(i,s)},n.prototype.allGeneratedPositionsFor=function(i){var v=a.getArg(i,"line"),c={source:a.getArg(i,"source"),originalLine:v,originalColumn:a.getArg(i,"column",0)};if(c.source=this._findSourceIndex(c.source),c.source<0)return[];var s=[],_=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,y.LEAST_UPPER_BOUND);if(_>=0){var u=this._originalMappings[_];if(i.column===void 0)for(var A=u.originalLine;u&&u.originalLine===A;)s.push({line:a.getArg(u,"generatedLine",null),column:a.getArg(u,"generatedColumn",null),lastColumn:a.getArg(u,"lastGeneratedColumn",null)}),u=this._originalMappings[++_];else for(var r=u.originalColumn;u&&u.originalLine===v&&u.originalColumn==r;)s.push({line:a.getArg(u,"generatedLine",null),column:a.getArg(u,"generatedColumn",null),lastColumn:a.getArg(u,"lastGeneratedColumn",null)}),u=this._originalMappings[++_]}return s},P.SourceMapConsumer=n;function f(l,i){var v=l;typeof l=="string"&&(v=a.parseSourceMapInput(l));var c=a.getArg(v,"version"),s=a.getArg(v,"sources"),_=a.getArg(v,"names",[]),u=a.getArg(v,"sourceRoot",null),A=a.getArg(v,"sourcesContent",null),r=a.getArg(v,"mappings"),e=a.getArg(v,"file",null);if(c!=this._version)throw new Error("Unsupported version: "+c);u&&(u=a.normalize(u)),s=s.map(String).map(a.normalize).map(function(m){return u&&a.isAbsolute(u)&&a.isAbsolute(m)?a.relative(u,m):m}),this._names=R.fromArray(_.map(String),!0),this._sources=R.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map(function(m){return a.computeSourceURL(u,m,i)}),this.sourceRoot=u,this.sourcesContent=A,this._mappings=r,this._sourceMapURL=i,this.file=e}f.prototype=Object.create(n.prototype),f.prototype.consumer=n,f.prototype._findSourceIndex=function(l){var i=l;if(this.sourceRoot!=null&&(i=a.relative(this.sourceRoot,i)),this._sources.has(i))return this._sources.indexOf(i);var v;for(v=0;v<this._absoluteSources.length;++v)if(this._absoluteSources[v]==l)return v;return-1},f.fromSourceMap=function(i,v){var c=Object.create(f.prototype),s=c._names=R.fromArray(i._names.toArray(),!0),_=c._sources=R.fromArray(i._sources.toArray(),!0);c.sourceRoot=i._sourceRoot,c.sourcesContent=i._generateSourcesContent(c._sources.toArray(),c.sourceRoot),c.file=i._file,c._sourceMapURL=v,c._absoluteSources=c._sources.toArray().map(function(I){return a.computeSourceURL(c.sourceRoot,I,v)});for(var u=i._mappings.toArray().slice(),A=c.__generatedMappings=[],r=c.__originalMappings=[],e=0,m=u.length;e<m;e++){var t=u[e],M=new h;M.generatedLine=t.generatedLine,M.generatedColumn=t.generatedColumn,t.source&&(M.source=_.indexOf(t.source),M.originalLine=t.originalLine,M.originalColumn=t.originalColumn,t.name&&(M.name=s.indexOf(t.name)),r.push(M)),A.push(M)}return p(c.__originalMappings,a.compareByOriginalPositions),c},f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function h(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}f.prototype._parseMappings=function(i,v){for(var c=1,s=0,_=0,u=0,A=0,r=0,e=i.length,m=0,t={},M={},I=[],x=[],L,H,F,Q,re;m<e;)if(i.charAt(m)===";")c++,m++,s=0;else if(i.charAt(m)===",")m++;else{for(L=new h,L.generatedLine=c,Q=m;Q<e&&!this._charIsMappingSeparator(i,Q);Q++);if(H=i.slice(m,Q),F=t[H],F)m+=H.length;else{for(F=[];m<Q;)C.decode(i,m,M),re=M.value,m=M.rest,F.push(re);if(F.length===2)throw new Error("Found a source, but no line and column");if(F.length===3)throw new Error("Found a source and line, but no column");t[H]=F}L.generatedColumn=s+F[0],s=L.generatedColumn,F.length>1&&(L.source=A+F[1],A+=F[1],L.originalLine=_+F[2],_=L.originalLine,L.originalLine+=1,L.originalColumn=u+F[3],u=L.originalColumn,F.length>4&&(L.name=r+F[4],r+=F[4])),x.push(L),typeof L.originalLine=="number"&&I.push(L)}p(x,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=x,p(I,a.compareByOriginalPositions),this.__originalMappings=I},f.prototype._findMapping=function(i,v,c,s,_,u){if(i[c]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+i[c]);if(i[s]<0)throw new TypeError("Column must be greater than or equal to 0, got "+i[s]);return y.search(i,v,_,u)},f.prototype.computeColumnSpans=function(){for(var i=0;i<this._generatedMappings.length;++i){var v=this._generatedMappings[i];if(i+1<this._generatedMappings.length){var c=this._generatedMappings[i+1];if(v.generatedLine===c.generatedLine){v.lastGeneratedColumn=c.generatedColumn-1;continue}}v.lastGeneratedColumn=1/0}},f.prototype.originalPositionFor=function(i){var v={generatedLine:a.getArg(i,"line"),generatedColumn:a.getArg(i,"column")},c=this._findMapping(v,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(i,"bias",n.GREATEST_LOWER_BOUND));if(c>=0){var s=this._generatedMappings[c];if(s.generatedLine===v.generatedLine){var _=a.getArg(s,"source",null);_!==null&&(_=this._sources.at(_),_=a.computeSourceURL(this.sourceRoot,_,this._sourceMapURL));var u=a.getArg(s,"name",null);return u!==null&&(u=this._names.at(u)),{source:_,line:a.getArg(s,"originalLine",null),column:a.getArg(s,"originalColumn",null),name:u}}}return{source:null,line:null,column:null,name:null}},f.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(i){return i==null}):!1},f.prototype.sourceContentFor=function(i,v){if(!this.sourcesContent)return null;var c=this._findSourceIndex(i);if(c>=0)return this.sourcesContent[c];var s=i;this.sourceRoot!=null&&(s=a.relative(this.sourceRoot,s));var _;if(this.sourceRoot!=null&&(_=a.urlParse(this.sourceRoot))){var u=s.replace(/^file:\/\//,"");if(_.scheme=="file"&&this._sources.has(u))return this.sourcesContent[this._sources.indexOf(u)];if((!_.path||_.path=="/")&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(v)return null;throw new Error('"'+s+'" is not in the SourceMap.')},f.prototype.generatedPositionFor=function(i){var v=a.getArg(i,"source");if(v=this._findSourceIndex(v),v<0)return{line:null,column:null,lastColumn:null};var c={source:v,originalLine:a.getArg(i,"line"),originalColumn:a.getArg(i,"column")},s=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(i,"bias",n.GREATEST_LOWER_BOUND));if(s>=0){var _=this._originalMappings[s];if(_.source===c.source)return{line:a.getArg(_,"generatedLine",null),column:a.getArg(_,"generatedColumn",null),lastColumn:a.getArg(_,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},E=f;function o(l,i){var v=l;typeof l=="string"&&(v=a.parseSourceMapInput(l));var c=a.getArg(v,"version"),s=a.getArg(v,"sections");if(c!=this._version)throw new Error("Unsupported version: "+c);this._sources=new R,this._names=new R;var _={line:-1,column:0};this._sections=s.map(function(u){if(u.url)throw new Error("Support for url field in sections not implemented.");var A=a.getArg(u,"offset"),r=a.getArg(A,"line"),e=a.getArg(A,"column");if(r<_.line||r===_.line&&e<_.column)throw new Error("Section offsets must be ordered and non-overlapping.");return _=A,{generatedOffset:{generatedLine:r+1,generatedColumn:e+1},consumer:new n(a.getArg(u,"map"),i)}})}o.prototype=Object.create(n.prototype),o.prototype.constructor=n,o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){for(var l=[],i=0;i<this._sections.length;i++)for(var v=0;v<this._sections[i].consumer.sources.length;v++)l.push(this._sections[i].consumer.sources[v]);return l}}),o.prototype.originalPositionFor=function(i){var v={generatedLine:a.getArg(i,"line"),generatedColumn:a.getArg(i,"column")},c=y.search(v,this._sections,function(_,u){var A=_.generatedLine-u.generatedOffset.generatedLine;return A||_.generatedColumn-u.generatedOffset.generatedColumn}),s=this._sections[c];return s?s.consumer.originalPositionFor({line:v.generatedLine-(s.generatedOffset.generatedLine-1),column:v.generatedColumn-(s.generatedOffset.generatedLine===v.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:i.bias}):{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(i){return i.consumer.hasContentsOfAllSources()})},o.prototype.sourceContentFor=function(i,v){for(var c=0;c<this._sections.length;c++){var s=this._sections[c],_=s.consumer.sourceContentFor(i,!0);if(_)return _}if(v)return null;throw new Error('"'+i+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(i){for(var v=0;v<this._sections.length;v++){var c=this._sections[v];if(c.consumer._findSourceIndex(a.getArg(i,"source"))!==-1){var s=c.consumer.generatedPositionFor(i);if(s){var _={line:s.line+(c.generatedOffset.generatedLine-1),column:s.column+(c.generatedOffset.generatedLine===s.line?c.generatedOffset.generatedColumn-1:0)};return _}}}return{line:null,column:null}},o.prototype._parseMappings=function(i,v){this.__generatedMappings=[],this.__originalMappings=[];for(var c=0;c<this._sections.length;c++)for(var s=this._sections[c],_=s.consumer._generatedMappings,u=0;u<_.length;u++){var A=_[u],r=s.consumer._sources.at(A.source);r=a.computeSourceURL(s.consumer.sourceRoot,r,this._sourceMapURL),this._sources.add(r),r=this._sources.indexOf(r);var e=null;A.name&&(e=s.consumer._names.at(A.name),this._names.add(e),e=this._names.indexOf(e));var m={source:r,generatedLine:A.generatedLine+(s.generatedOffset.generatedLine-1),generatedColumn:A.generatedColumn+(s.generatedOffset.generatedLine===A.generatedLine?s.generatedOffset.generatedColumn-1:0),originalLine:A.originalLine,originalColumn:A.originalColumn,name:e};this.__generatedMappings.push(m),typeof m.originalLine=="number"&&this.__originalMappings.push(m)}p(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),p(this.__originalMappings,a.compareByOriginalPositions)},E=o},458:(N,P,S)=>{var E=S(158),a=S(930),y=S(668).I,R=S(923).H;function C(p){p||(p={}),this._file=a.getArg(p,"file",null),this._sourceRoot=a.getArg(p,"sourceRoot",null),this._skipValidation=a.getArg(p,"skipValidation",!1),this._sources=new y,this._names=new y,this._mappings=new R,this._sourcesContents=null}C.prototype._version=3,C.fromSourceMap=function(n){var f=n.sourceRoot,h=new C({file:n.file,sourceRoot:f});return n.eachMapping(function(o){var l={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(l.source=o.source,f!=null&&(l.source=a.relative(f,l.source)),l.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(l.name=o.name)),h.addMapping(l)}),n.sources.forEach(function(o){var l=o;f!==null&&(l=a.relative(f,o)),h._sources.has(l)||h._sources.add(l);var i=n.sourceContentFor(o);i!=null&&h.setSourceContent(o,i)}),h},C.prototype.addMapping=function(n){var f=a.getArg(n,"generated"),h=a.getArg(n,"original",null),o=a.getArg(n,"source",null),l=a.getArg(n,"name",null);this._skipValidation||this._validateMapping(f,h,o,l),o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),l!=null&&(l=String(l),this._names.has(l)||this._names.add(l)),this._mappings.add({generatedLine:f.line,generatedColumn:f.column,originalLine:h!=null&&h.line,originalColumn:h!=null&&h.column,source:o,name:l})},C.prototype.setSourceContent=function(n,f){var h=n;this._sourceRoot!=null&&(h=a.relative(this._sourceRoot,h)),f!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(h)]=f):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(h)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},C.prototype.applySourceMap=function(n,f,h){var o=f;if(f==null){if(n.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=n.file}var l=this._sourceRoot;l!=null&&(o=a.relative(l,o));var i=new y,v=new y;this._mappings.unsortedForEach(function(c){if(c.source===o&&c.originalLine!=null){var s=n.originalPositionFor({line:c.originalLine,column:c.originalColumn});s.source!=null&&(c.source=s.source,h!=null&&(c.source=a.join(h,c.source)),l!=null&&(c.source=a.relative(l,c.source)),c.originalLine=s.line,c.originalColumn=s.column,s.name!=null&&(c.name=s.name))}var _=c.source;_!=null&&!i.has(_)&&i.add(_);var u=c.name;u!=null&&!v.has(u)&&v.add(u)},this),this._sources=i,this._names=v,n.sources.forEach(function(c){var s=n.sourceContentFor(c);s!=null&&(h!=null&&(c=a.join(h,c)),l!=null&&(c=a.relative(l,c)),this.setSourceContent(c,s))},this)},C.prototype._validateMapping=function(n,f,h,o){if(f&&typeof f.line!="number"&&typeof f.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(n&&"line"in n&&"column"in n&&n.line>0&&n.column>=0&&!f&&!h&&!o)){if(n&&"line"in n&&"column"in n&&f&&"line"in f&&"column"in f&&n.line>0&&n.column>=0&&f.line>0&&f.column>=0&&h)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:n,source:h,original:f,name:o}))}},C.prototype._serializeMappings=function(){for(var n=0,f=1,h=0,o=0,l=0,i=0,v="",c,s,_,u,A=this._mappings.toArray(),r=0,e=A.length;r<e;r++){if(s=A[r],c="",s.generatedLine!==f)for(n=0;s.generatedLine!==f;)c+=";",f++;else if(r>0){if(!a.compareByGeneratedPositionsInflated(s,A[r-1]))continue;c+=","}c+=E.encode(s.generatedColumn-n),n=s.generatedColumn,s.source!=null&&(u=this._sources.indexOf(s.source),c+=E.encode(u-i),i=u,c+=E.encode(s.originalLine-1-o),o=s.originalLine-1,c+=E.encode(s.originalColumn-h),h=s.originalColumn,s.name!=null&&(_=this._names.indexOf(s.name),c+=E.encode(_-l),l=_)),v+=c}return v},C.prototype._generateSourcesContent=function(n,f){return n.map(function(h){if(!this._sourcesContents)return null;f!=null&&(h=a.relative(f,h));var o=a.toSetString(h);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},C.prototype.toJSON=function(){var n={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(n.file=this._file),this._sourceRoot!=null&&(n.sourceRoot=this._sourceRoot),this._sourcesContents&&(n.sourcesContent=this._generateSourcesContent(n.sources,n.sourceRoot)),n},C.prototype.toString=function(){return JSON.stringify(this.toJSON())},P.h=C},771:(N,P,S)=>{var E,a=S(458).h,y=S(930),R=/(\r?\n)/,C=10,p="$$$isSourceNode$$$";function n(f,h,o,l,i){this.children=[],this.sourceContents={},this.line=f==null?null:f,this.column=h==null?null:h,this.source=o==null?null:o,this.name=i==null?null:i,this[p]=!0,l!=null&&this.add(l)}n.fromStringWithSourceMap=function(h,o,l){var i=new n,v=h.split(R),c=0,s=function(){var e=t(),m=t()||"";return e+m;function t(){return c<v.length?v[c++]:void 0}},_=1,u=0,A=null;return o.eachMapping(function(e){if(A!==null)if(_<e.generatedLine)r(A,s()),_++,u=0;else{var m=v[c]||"",t=m.substr(0,e.generatedColumn-u);v[c]=m.substr(e.generatedColumn-u),u=e.generatedColumn,r(A,t),A=e;return}for(;_<e.generatedLine;)i.add(s()),_++;if(u<e.generatedColumn){var m=v[c]||"";i.add(m.substr(0,e.generatedColumn)),v[c]=m.substr(e.generatedColumn),u=e.generatedColumn}A=e},this),c<v.length&&(A&&r(A,s()),i.add(v.splice(c).join(""))),o.sources.forEach(function(e){var m=o.sourceContentFor(e);m!=null&&(l!=null&&(e=y.join(l,e)),i.setSourceContent(e,m))}),i;function r(e,m){if(e===null||e.source===void 0)i.add(m);else{var t=l?y.join(l,e.source):e.source;i.add(new n(e.originalLine,e.originalColumn,t,m,e.name))}}},n.prototype.add=function(h){if(Array.isArray(h))h.forEach(function(o){this.add(o)},this);else if(h[p]||typeof h=="string")h&&this.children.push(h);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+h);return this},n.prototype.prepend=function(h){if(Array.isArray(h))for(var o=h.length-1;o>=0;o--)this.prepend(h[o]);else if(h[p]||typeof h=="string")this.children.unshift(h);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+h);return this},n.prototype.walk=function(h){for(var o,l=0,i=this.children.length;l<i;l++)o=this.children[l],o[p]?o.walk(h):o!==""&&h(o,{source:this.source,line:this.line,column:this.column,name:this.name})},n.prototype.join=function(h){var o,l,i=this.children.length;if(i>0){for(o=[],l=0;l<i-1;l++)o.push(this.children[l]),o.push(h);o.push(this.children[l]),this.children=o}return this},n.prototype.replaceRight=function(h,o){var l=this.children[this.children.length-1];return l[p]?l.replaceRight(h,o):typeof l=="string"?this.children[this.children.length-1]=l.replace(h,o):this.children.push("".replace(h,o)),this},n.prototype.setSourceContent=function(h,o){this.sourceContents[y.toSetString(h)]=o},n.prototype.walkSourceContents=function(h){for(var o=0,l=this.children.length;o<l;o++)this.children[o][p]&&this.children[o].walkSourceContents(h);for(var i=Object.keys(this.sourceContents),o=0,l=i.length;o<l;o++)h(y.fromSetString(i[o]),this.sourceContents[i[o]])},n.prototype.toString=function(){var h="";return this.walk(function(o){h+=o}),h},n.prototype.toStringWithSourceMap=function(h){var o={code:"",line:1,column:0},l=new a(h),i=!1,v=null,c=null,s=null,_=null;return this.walk(function(u,A){o.code+=u,A.source!==null&&A.line!==null&&A.column!==null?((v!==A.source||c!==A.line||s!==A.column||_!==A.name)&&l.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:o.line,column:o.column},name:A.name}),v=A.source,c=A.line,s=A.column,_=A.name,i=!0):i&&(l.addMapping({generated:{line:o.line,column:o.column}}),v=null,i=!1);for(var r=0,e=u.length;r<e;r++)u.charCodeAt(r)===C?(o.line++,o.column=0,r+1===e?(v=null,i=!1):i&&l.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:o.line,column:o.column},name:A.name})):o.column++}),this.walkSourceContents(function(u,A){l.setSourceContent(u,A)}),{code:o.code,map:l}},E=n},930:(N,P)=>{function S(r,e,m){if(e in r)return r[e];if(arguments.length===3)return m;throw new Error('"'+e+'" is a required argument.')}P.getArg=S;var E=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function y(r){var e=r.match(E);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}P.urlParse=y;function R(r){var e="";return r.scheme&&(e+=r.scheme+":"),e+="//",r.auth&&(e+=r.auth+"@"),r.host&&(e+=r.host),r.port&&(e+=":"+r.port),r.path&&(e+=r.path),e}P.urlGenerate=R;function C(r){var e=r,m=y(r);if(m){if(!m.path)return r;e=m.path}for(var t=P.isAbsolute(e),M=e.split(/\/+/),I,x=0,L=M.length-1;L>=0;L--)I=M[L],I==="."?M.splice(L,1):I===".."?x++:x>0&&(I===""?(M.splice(L+1,x),x=0):(M.splice(L,2),x--));return e=M.join("/"),e===""&&(e=t?"/":"."),m?(m.path=e,R(m)):e}P.normalize=C;function p(r,e){r===""&&(r="."),e===""&&(e=".");var m=y(e),t=y(r);if(t&&(r=t.path||"/"),m&&!m.scheme)return t&&(m.scheme=t.scheme),R(m);if(m||e.match(a))return e;if(t&&!t.host&&!t.path)return t.host=e,R(t);var M=e.charAt(0)==="/"?e:C(r.replace(/\/+$/,"")+"/"+e);return t?(t.path=M,R(t)):M}P.join=p,P.isAbsolute=function(r){return r.charAt(0)==="/"||E.test(r)};function n(r,e){r===""&&(r="."),r=r.replace(/\/$/,"");for(var m=0;e.indexOf(r+"/")!==0;){var t=r.lastIndexOf("/");if(t<0||(r=r.slice(0,t),r.match(/^([^\/]+:\/)?\/*$/)))return e;++m}return Array(m+1).join("../")+e.substr(r.length+1)}P.relative=n;var f=function(){var r=Object.create(null);return!("__proto__"in r)}();function h(r){return r}function o(r){return i(r)?"$"+r:r}P.toSetString=f?h:o;function l(r){return i(r)?r.slice(1):r}P.fromSetString=f?h:l;function i(r){if(!r)return!1;var e=r.length;if(e<9||r.charCodeAt(e-1)!==95||r.charCodeAt(e-2)!==95||r.charCodeAt(e-3)!==111||r.charCodeAt(e-4)!==116||r.charCodeAt(e-5)!==111||r.charCodeAt(e-6)!==114||r.charCodeAt(e-7)!==112||r.charCodeAt(e-8)!==95||r.charCodeAt(e-9)!==95)return!1;for(var m=e-10;m>=0;m--)if(r.charCodeAt(m)!==36)return!1;return!0}function v(r,e,m){var t=s(r.source,e.source);return t!==0||(t=r.originalLine-e.originalLine,t!==0)||(t=r.originalColumn-e.originalColumn,t!==0||m)||(t=r.generatedColumn-e.generatedColumn,t!==0)||(t=r.generatedLine-e.generatedLine,t!==0)?t:s(r.name,e.name)}P.compareByOriginalPositions=v;function c(r,e,m){var t=r.generatedLine-e.generatedLine;return t!==0||(t=r.generatedColumn-e.generatedColumn,t!==0||m)||(t=s(r.source,e.source),t!==0)||(t=r.originalLine-e.originalLine,t!==0)||(t=r.originalColumn-e.originalColumn,t!==0)?t:s(r.name,e.name)}P.compareByGeneratedPositionsDeflated=c;function s(r,e){return r===e?0:r===null?1:e===null?-1:r>e?1:-1}function _(r,e){var m=r.generatedLine-e.generatedLine;return m!==0||(m=r.generatedColumn-e.generatedColumn,m!==0)||(m=s(r.source,e.source),m!==0)||(m=r.originalLine-e.originalLine,m!==0)||(m=r.originalColumn-e.originalColumn,m!==0)?m:s(r.name,e.name)}P.compareByGeneratedPositionsInflated=_;function u(r){return JSON.parse(r.replace(/^\)]}'[^\n]*\n/,""))}P.parseSourceMapInput=u;function A(r,e,m){if(e=e||"",r&&(r[r.length-1]!=="/"&&e[0]!=="/"&&(r+="/"),e=r+e),m){var t=y(m);if(!t)throw new Error("sourceMapURL could not be parsed");if(t.path){var M=t.path.lastIndexOf("/");M>=0&&(t.path=t.path.substring(0,M+1))}e=p(R(t),e)}return C(e)}P.computeSourceURL=A},461:(N,P,S)=>{S(458).h,P.SourceMapConsumer=S(94).SourceMapConsumer,S(771)},842:(N,P,S)=>{"use strict";/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var E=S(371);N.exports=p,p.message=E,p.code=a(E),p.codes=y(E),p.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},p.empty={204:!0,205:!0,304:!0},p.retry={502:!0,503:!0,504:!0};function a(n){var f={};return Object.keys(n).forEach(function(o){var l=n[o],i=Number(o);f[l.toLowerCase()]=i}),f}function y(n){return Object.keys(n).map(function(h){return Number(h)})}function R(n){var f=n.toLowerCase();if(!Object.prototype.hasOwnProperty.call(p.code,f))throw new Error('invalid status message: "'+n+'"');return p.code[f]}function C(n){if(!Object.prototype.hasOwnProperty.call(p.message,n))throw new Error("invalid status code: "+n);return p.message[n]}function p(n){if(typeof n=="number")return C(n);if(typeof n!="string")throw new TypeError("code must be a number or string");var f=parseInt(n,10);return isNaN(f)?R(n):C(f)}},675:N=>{"use strict";/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */N.exports=P;function P(S){return S.split(" ").map(function(E){return E.slice(0,1).toUpperCase()+E.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}},147:N=>{"use strict";N.exports=require("fs")},17:N=>{"use strict";N.exports=require("path")},837:N=>{"use strict";N.exports=require("util")},371:N=>{"use strict";N.exports=JSON.parse(`{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}`)}},ce={};function Z(N){var P=ce[N];if(P!==void 0)return P.exports;var S=ce[N]={id:N,loaded:!1,exports:{}};return ge[N](S,S.exports,Z),S.loaded=!0,S.exports}Z.n=N=>{var P=N&&N.__esModule?()=>N.default:()=>N;return Z.d(P,{a:P}),P},Z.d=(N,P)=>{for(var S in P)Z.o(P,S)&&!Z.o(N,S)&&Object.defineProperty(N,S,{enumerable:!0,get:P[S]})},Z.o=(N,P)=>Object.prototype.hasOwnProperty.call(N,P),Z.r=N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},Z.nmd=N=>(N.paths=[],N.children||(N.children=[]),N);var ae={};(()=>{"use strict";Z.r(ae),Z.d(ae,{handler:()=>Ee,uploadAuctionPicture:()=>ve});var N=Z(49);const P=require("events"),S=()=>{},E={timeoutEarlyInMillis:5,timeoutEarlyResponse:()=>{throw new Error("Timeout")}},a=(d=S,b={})=>{var V;typeof d!="function"&&(b=d,d=S),b={...E,...b},b.timeoutEarly=b.timeoutEarlyInMillis>0,(V=b.beforePrefetch)==null||V.call(b);const O=[],T=[],z=[],U=(B={},W={})=>{var ee,X;(ee=b.requestStart)==null||ee.call(b);const J={event:B,context:W,response:void 0,error:void 0,internal:(X=b.internal)!=null?X:{}};return y(J,[...O],d,[...T],[...z],b)};return U.use=B=>{Array.isArray(B)||(B=[B]);for(const W of B){const{before:J,after:ee,onError:X}=W;if(!J&&!ee&&!X)throw new Error('Middleware must be an object containing at least one key among "before", "after", "onError"');J&&U.before(J),ee&&U.after(ee),X&&U.onError(X)}return U},U.before=B=>(O.push(B),U),U.after=B=>(T.unshift(B),U),U.onError=B=>(z.unshift(B),U),U.handler=B=>(d=B,U),U},y=async(d,b,O,T,z,U)=>{var B,W,J;const V=U.timeoutEarly&&d.context.getRemainingTimeInMillis;try{if(await R(d,b,U),typeof d.response>"u"){(B=U.beforeHandler)==null||B.call(U);const ee=new AbortController;let X;V&&(X=new AbortController),d.response=await Promise.race([O(d.event,d.context,{signal:ee.signal}),V?n(d.context.getRemainingTimeInMillis()-U.timeoutEarlyInMillis,{signal:X.signal}).then(()=>(ee.abort(),U.timeoutEarlyResponse())):Promise.race([])]),V&&X.abort(),(W=U.afterHandler)==null||W.call(U),await R(d,T,U)}}catch(ee){d.response=void 0,d.error=ee;try{await R(d,z,U)}catch(X){throw X.originalError=d.error,d.error=X,d.error}if(typeof d.response>"u")throw d.error}finally{await((J=U.requestEnd)==null?void 0:J.call(U,d))}return d.response},R=async(d,b,O)=>{var T,z;for(const U of b){(T=O.beforeMiddleware)==null||T.call(O,U.name);const V=await U(d);if((z=O.afterMiddleware)==null||z.call(O,U.name),typeof V<"u"){d.response=V;return}}},C=()=>{if(process.version<"v15.0.0"){class d{toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(O,T){this.eventEmitter.removeListener(O,T)}addEventListener(O,T){this.eventEmitter.on(O,T)}dispatchEvent(O){const T={type:O,target:this},z=`on${O}`;typeof this[z]=="function"&&this[z](T),this.eventEmitter.emit(O,T)}constructor(){this.eventEmitter=new P.EventEmitter,this.onabort=null,this.aborted=!1}}return class{abort(){this.signal.aborted||(this.signal.aborted=!0,this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}constructor(){this.signal=new d}}}else return AbortController};global.AbortController=C();const n=(()=>(d,{signal:b})=>b.aborted?Promise.reject(new Error("Aborted","AbortError")):new Promise((O,T)=>{const z=()=>{clearTimeout(U),T(new Error("Aborted","AbortError"))},U=setTimeout(()=>{O(),b.removeEventListener("abort",z)},d);b.addEventListener("abort",z)}))(),f=a,h=require("https");var o;const l={httpOptions:{agent:new h.Agent({keepAlive:!0,secureProtocol:"TLSv1_2_method"})}},i=d=>{const b={...l,...d.awsClientOptions},O=new d.AwsClient(b);return d.awsClientCapture&&d.disablePrefetch?d.awsClientCapture(O):(d.awsClientCapture&&console.warn("Unable to apply X-Ray outside of handler invocation scope."),O)},v=async(d,b)=>{let O={};if(d.awsClientAssumeRole){if(!b)throw new Error("Request required when assuming role");O=await s({credentials:d.awsClientAssumeRole},b)}return O={...O,...d.awsClientOptions},i({...d,awsClientOptions:O})},c=(d={})=>!d.awsClientAssumeRole&&!d.disablePrefetch,s=async(d,b)=>{if(!d||!b)return{};let O=[],T=[];d===!0?O=T=Object.keys(b.internal):typeof d=="string"?O=T=[d]:Array.isArray(d)?O=T=d:typeof d=="object"&&(O=Object.keys(d),T=Object.values(d));const z=[];for(const V of T){const B=V.split("."),W=B.shift();let J=b.internal[W];_(J)||(J=Promise.resolve(J)),z.push(J.then(ee=>B.reduce((X,Me)=>X==null?void 0:X[Me],ee)))}T=await Promise.allSettled(z);const U=T.filter(V=>V.status==="rejected").map(V=>V.reason);if(U.length){const V=new Error("Failed to resolve internal values");throw V.cause=U,V}return O.reduce((V,B,W)=>({...V,[r(B)]:T[W].value}),{})},_=d=>typeof(d==null?void 0:d.then)=="function",u=/^([0-9])/,A=/[^a-zA-Z0-9]+/g,r=d=>d.replace(u,"_$1").replace(A,"_"),e={},m=(d,b=()=>{},O)=>{const{cacheExpiry:T,cacheKey:z}=d;if(T){const B=t(z),W=B.expiry&&(T<0||B.expiry>Date.now());if(W&&B.modified){const J=b(O,B.value);return e[z]={value:{...B.value,...J},expiry:B.expiry},e[z]}if(W)return{...B,cache:!0}}const U=b(O),V=Date.now()+T;if(T){const B=T>0?setInterval(()=>{const W=b(O),J=Date.now()+T;Object.assign(e[z],{value:W,expiry:J})},T):void 0;e[z]={value:U,expiry:V,refresh:B}}return{value:U,expiry:V}},t=d=>e[d]?e[d]:{},M=(d,b)=>{var O;!e[d]||(clearInterval((O=e[d])==null?void 0:O.refresh),e[d]={...e[d],value:b,modified:!0})},I=(d=null)=>{var b;d=d!=null?d:Object.keys(e),Array.isArray(d)||(d=[d]);for(const O of d)clearInterval((b=e[O])==null?void 0:b.refresh),e[O]=void 0},x=(d,b)=>{if(typeof d!="string")return d;const O=d[0];if(O!=="{"&&O!=="["&&O!=='"')return d;try{return JSON.parse(d,b)}catch{}return d},L=(d,b,O)=>{try{return JSON.stringify(d,b,O)}catch{}return d},H=d=>{var O;let{response:b}=d;return typeof b>"u"?b={}:typeof(b==null?void 0:b.statusCode)>"u"&&typeof(b==null?void 0:b.body)>"u"&&typeof(b==null?void 0:b.headers)>"u"&&(b={body:b}),(O=(o=b).headers)!=null||(o.headers={}),d.response=b,b},F=/[^a-zA-Z]/g;class Q extends Error{constructor(b,O,T={}){var U;O&&typeof O!="string"&&(T=O,O=void 0),O!=null||(O=Y[b]),super(O),this.cause=T.cause;const z=Y[b].replace(F,"");this.name=z.substr(-5)!=="Error"?z+"Error":z,this.status=this.statusCode=b,this.expose=(U=T.expose)!=null?U:b<500}}const re=(d,b,O={})=>new Q(d,b,O),Y={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},oe={logger:console.error,fallbackMessage:null},te=(d={})=>{const b={...oe,...d};return{onError:async T=>{if(T.response===void 0&&(typeof b.logger=="function"&&b.logger(T.error),T.error.statusCode&&T.error.expose===void 0&&(T.error.expose=T.error.statusCode<500),b.fallbackMessage&&(!T.error.statusCode||!T.error.expose)&&(T.error={statusCode:500,message:b.fallbackMessage,expose:!0}),T.error.expose)){H(T);const{statusCode:z,message:U,headers:V}=T.error;T.response={...T.response,statusCode:z,body:U,headers:{...V,...T.response.headers,"Content-Type":typeof x(U)=="string"?"text/plain":"application/json"}}}}}};var ue=Z(390),g=Z.n(ue);const w=require("aws-sdk");var j=Z.n(w);const G=new(j()).S3;async function k(d,b){return(await G.upload({Bucket:process.env.AUCTIONS_BUCKET_NAME,Key:d,Body:b,ContentEncoding:"base64",ContentType:"image/jpeg"}).promise()).Location}const D=/^application\/(.+\+)?json(;.*)?$/,$={reviver:void 0},se=(d={})=>{const{reviver:b}={...$,...d};return{before:async T=>{var B;const{headers:z,body:U}=T.event,V=(B=z["Content-Type"])!=null?B:z["content-type"];if(!!D.test(V))try{const W=T.event.isBase64Encoded?Buffer.from(U,"base64").toString():U;T.event.rawBody=U,T.event.body=JSON.parse(W,b)}catch(W){const J=re(422,"Invalid or malformed JSON was provided");throw J.cause=W,J}}}};var q,ne,pe;const me=()=>({before:async b=>{var U,V,B,W,J;const{event:O}=b,T=(U=O.version)!=null?U:"1.0";if(!((V=le[T])==null?void 0:V.call(le,O)))throw new Error("[http-event-normalizer] Unknown http event format");(B=(q=O).pathParameters)!=null||(q.pathParameters={}),(W=(ne=O).queryStringParameters)!=null||(ne.queryStringParameters={}),T==="1.0"&&((J=(pe=O).multiValueQueryStringParameters)!=null||(pe.multiValueQueryStringParameters={}))}}),le={"1.0":d=>typeof d.httpMethod<"u","2.0":d=>typeof d.requestContext.http.method<"u"},ye=me,_e=d=>f(d).use([te(),ye(),se()]),we=new(j()).DynamoDB.DocumentClient;async function he(d){let b;try{b=(await we.get({TableName:process.env.AUCTIONS_TABLE_NAME,Key:{id:d}}).promise()).Item}catch(O){throw console.error(O),new(g()).InternalServerError(O)}if(!b)throw new(g()).NotFound(`Auction with ID "${d}" not found!`);return b}async function be(d,b){const{id:O}=d.pathParameters,T=await he(O);return{statusCode:200,body:JSON.stringify(T)}}const Oe=_e(be),Se=new(j()).DynamoDB.DocumentClient;async function Ce(d,b){const O={TableName:process.env.AUCTIONS_TABLE_NAME,Key:{id:d},UpdateExpression:"set pictureUrl = :pictureUrl",ExpressionAttributeValues:{":pictureUrl":b},ReturnValues:"ALL_NEW"};return(await Se.update(O).promise()).Attributes}async function ve(d){const{id:b}=d.pathParameters,{email:O}=d.requestContext.authorizer,T=await he(b);if(T.seller!==O)throw new(g()).Forbidden("You are not the seller of this auction");const z=d.body.replace(/^data:image\/\w+;base64,/,""),U=Buffer.from(z,"base64");let V;try{const B=await k(T.id+".jpg",U);V=await Ce(T.id,B)}catch(B){throw console.error(B),new(g()).InternalServerError(B)}return{statusCode:200,body:JSON.stringify(V)}}const Ee=f(ve).use(te())})();var fe=exports;for(var de in ae)fe[de]=ae[de];ae.__esModule&&Object.defineProperty(fe,"__esModule",{value:!0})})();

//# sourceMappingURL=uploadAuctionPicture.js.map